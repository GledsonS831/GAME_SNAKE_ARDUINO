#include "LedControl.h"
#include "binary.h"
 
LedControl lc = LedControl(12,11,10,4);
struct anaconda{
  short pos_atual[3];
  short pos_final[3];
};

unsigned long delaytime=400;
  
void setup() {
  lc.shutdown(0,false);
  lc.shutdown(1,false);
  lc.shutdown(2,false);
  lc.shutdown(3,false);
 
  lc.setIntensity(0,0);
  lc.setIntensity(1,0);
  lc.setIntensity(2,0);
  lc.setIntensity(3,0);
 
  // limpa o display:
  //-----------------
  lc.clearDisplay(0);  
  lc.clearDisplay(1);  
  lc.clearDisplay(2);  
  lc.clearDisplay(3);  
}
 
void desenhaFaces(){
  struct anaconda ana;
  short x = 0;
  short y = 0;
  short z = 0;
  
  ana.pos_atual[0] = z;
  ana.pos_atual[1] = x;
  ana.pos_atual[2] = y;

  ana.pos_final[0] = z;
  ana.pos_final[1] = x;
  ana.pos_final[2] = y;
  
  lc.setLed(ana.pos_atual[0], ana.pos_atual[1], ana.pos_atual[2], true);
  for (int i = 0;i < 1000; i++){
    y++;
    if (y > 7){
      y = 0;
      z--;
      if (z == 0) z = 3;
    }
    else if (y < 7){
      y = 7;
      z++;
      if (z == 4) z = 1;
    }
    if (x > 7) x = 0;
    else if (x < 0) x = 7;
    lc.setLed(ana.pos_atual[z], ana.pos_atual[x], ana.pos_atual[y], true);
    
  }
  
  
  delay(10000);
}
 
void loop(){
  desenhaFaces();
}
