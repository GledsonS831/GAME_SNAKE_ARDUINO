//Incluimos a livraria LedControl.h
#include "LedControl.h" 

//Declaramos os pinos: DIN, CLK, CS y el nº de displays conectados em serie
LedControl lc=LedControl(8,10,9,2);

//Pausa entre frames  
unsigned long delayTime=900;  
 
//Codigo dos 2 frames que vamos mostrar:
//Coração pequeno
byte Heart1[] = {
B00000000,
B01100110,
B11111111,
B11111111,
B01111110,
B00111100,
B00011000,
B00000000};

//Coração grande
byte Heart2[] = {
B01100110,
B11111111,
B11111111,
B11111111,
B11111111,
B01111110,
B00111100,
B00011000};

//Sub para transformar array #1 num padrão para a matriz
void Heart1GO()
{
  for (int i = 0; i < 8; i++)  
  {
    lc.setRow(0,i,Heart1[i]);
    lc.setRow(1,i,Heart2[i]);
  }
}

//Sub para transformar array #2 num padrão para a matriz
void Heart2GO()
{
  for (int i = 0; i < 8; i++)  
  {
    lc.setRow(0,i,Heart2[i]);
    lc.setRow(1,i,Heart1[i]);
  }
}

//Esta sub vai-se executar 1 só vez ao arrancar o Arduino
void setup() {
lc.shutdown(0,false);    //Iniciamos a matriz led #1
lc.shutdown(1,false);  //Iniciamos a matriz led #2
lc.setIntensity(0,5);    //Intensidade dos led na matriz #1
lc.setIntensity(1,5);  //Intensidade dos led na matriz #2
lc.clearDisplay(0);      //Apagamos todos os led da matriz #1
lc.clearDisplay(1);    //Apagamos todos os led da matriz #2
}

//Esta sub vai-se executar num laço uma e outra vez enquanto o Arduino esteja alimentado.
void loop() {
Heart1GO();         //Mostramos o padrão #1
delay(delayTime);   //Pequena pausa
Heart2GO();         //Mostramos o padrão #2
delay(delayTime);   //Pequena pausa
}
